<div class="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3" data-sort-controls data-current-sort="{{ sort if sort is defined else 'recent' }}">
    <span class="text-xs font-semibold tracking-wide text-graphite uppercase">並び替え</span>
    <div
        class="inline-flex bg-mist/60 rounded-lg p-1 border border-transparent"
        role="group"
        aria-label="ドキュメント一覧の並び替え"
        data-sort-active-class="bg-white text-ink shadow-sm border border-emerald"
        data-sort-inactive-class="text-graphite/70 bg-transparent border border-transparent"
    >
        <button
            type="button"
            class="sort-toggle-button inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald focus-visible:ring-offset-1 bg-white text-ink shadow-sm border border-emerald"
            data-sort-toggle="recent"
            aria-pressed="{{ 'true' if (sort is defined and sort == 'recent') else ('true' if not sort is defined else 'false') }}"
        >
            <i data-lucide="clock" class="w-4 h-4"></i>
            <span>新着順</span>
        </button>
        <button
            type="button"
            class="sort-toggle-button inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald focus-visible:ring-offset-1 text-graphite/70"
            data-sort-toggle="personalized"
            aria-pressed="{{ 'true' if (sort is defined and sort == 'personalized') else 'false' }}"
        >
            <i data-lucide="sparkles" class="w-4 h-4"></i>
            <span>おすすめ順</span>
        </button>
    </div>
    <div class="flex items-center gap-2 text-xs text-graphite sm:ml-2">
        <span class="hidden" data-personalized-status role="status"></span>
    </div>
</div>
