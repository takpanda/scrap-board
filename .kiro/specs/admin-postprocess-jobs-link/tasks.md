# Implementation Plan

## Overview
管理画面（`/admin`）にPostprocess Jobs Dashboard（`/admin/postprocess_jobs`）へのナビゲーションリンクを追加する実装タスクです。単一テンプレートファイルの修正のみで完結するシンプルな機能追加です。

## Tasks

- [x] 1. 管理画面テンプレートにナビゲーションリンクを追加
- [x] 1.1 ヘッダーセクションにジョブダッシュボードへのリンクを実装
  - ヘッダーセクションの既存構造（タイトル、説明、ソース件数表示）を維持
  - ソース件数表示の隣に新しいリンク要素を追加するためのコンテナ構造を作成
  - ジョブダッシュボードへのアンカータグを適切なURL（`/admin/postprocess_jobs`）で実装
  - アイコンとテキストラベル（「ジョブダッシュボード」）を含む視覚的に識別可能なリンクを作成
  - _Requirements: 1.1, 1.2, 1.3, 1.4, 2.2, 2.3, 2.4_

- [x] 1.2 デザインパターンとスタイリングを適用
  - 既存の管理画面UIコンポーネントと一貫性のあるTailwind CSSクラスを適用
  - アイコンとテキストの横並び配置、適切なパディングとマージンを設定
  - ホバー時の背景色変化、フォーカス時のリング表示を実装
  - Lucide Icons の `activity` アイコンを使用してモニタリング機能を視覚的に表現
  - _Requirements: 2.1, 1.4_

- [x] 1.3 アクセシビリティ対応を実装
  - スクリーンリーダー向けに適切な `aria-label` 属性を追加
  - キーボードナビゲーションでフォーカス可能な標準アンカータグを使用
  - フォーカス時の視覚的インジケーター（リング表示）を実装
  - マウスホバー時のツールチップ表示のための `title` 属性を追加
  - _Requirements: 3.2, 3.3, 3.4_

- [x] 1.4 レスポンシブデザインとモバイル対応を確保
  - モバイル環境（画面幅 < 768px）で十分なタップ可能領域（最小 44x44px）を確保
  - パディング設定により、デスクトップとモバイルで一貫したタップ領域を提供
  - 既存のレスポンシブレイアウト構造を維持し、リンクが適切に表示されることを確認
  - _Requirements: 3.1_

- [x] 2. 実装の動作確認とテスト
- [x] 2.1 手動テストで基本機能を検証
  - ローカル開発サーバーを起動し、管理画面（`/admin`）にアクセス
  - ヘッダーセクションにジョブダッシュボードリンクが表示されることを確認
  - リンククリックで `/admin/postprocess_jobs` へ正常に遷移することを確認
  - テンプレート構文エラーがないことを確認（ページが正常にレンダリングされる）
  - _Requirements: 1.1, 1.2, 4.1, 4.2_

- [ ] 2.2 既存機能の回帰テストを実施
  - 管理画面の既存機能（ソース一覧表示、検索、フィルター）が正常動作することを確認
  - ソース作成フォームの表示と動作に影響がないことを確認
  - HTMXベースの動的更新機能が正常に動作することを確認
  - 既存のテストスイート（`tests/test_admin*.py`）を実行し、全てパスすることを確認
  - _Requirements: 4.3, 4.4_

- [ ] 2.3 視覚的デザインとレイアウトを検証
  - デスクトップ環境（画面幅 >= 768px）でリンクが適切に表示されることを確認
  - モバイル環境（画面幅 < 768px）でタップ可能なサイズで表示されることを確認
  - ホバー時の背景色変化が機能することを確認
  - フォーカス時のリング表示が機能することを確認
  - Lucide Icons のアイコンが正しくレンダリングされることを確認
  - _Requirements: 2.1, 3.1, 3.4_

- [ ] 2.4 アクセシビリティ機能をテスト
  - キーボードナビゲーション（Tabキー）でリンクにフォーカス可能であることを確認
  - スクリーンリーダー（またはブラウザの開発者ツール）で `aria-label` が読み上げられることを確認
  - ツールチップ（`title` 属性）がマウスホバー時に表示されることを確認
  - _Requirements: 3.2, 3.3, 3.4_

- [ ] 3. E2E テストとドキュメント整備
- [ ] 3.1 Playwright E2Eテストを実装
  - 管理画面（`/admin`）へのアクセスとリンク要素の存在確認テストを作成
  - リンククリックによるページ遷移テスト（`/admin/postprocess_jobs` へ遷移）を作成
  - モバイルビューポートでのレスポンシブデザインテストを作成
  - スクリーンショット比較による視覚的回帰テストを作成（任意）
  - _Requirements: 1.1, 1.2, 3.1_

- [x] 3.2 統合テストを実装（HTTPクライアントベース）
  - `/admin` エンドポイントのHTMLレスポンスに `href="/admin/postprocess_jobs"` が含まれることを検証
  - レスポンスHTML内にアクセシビリティ属性（`aria-label`, `title`）が含まれることを検証
  - テンプレートレンダリングエラーが発生しないことを検証（200 OKレスポンス）
  - _Requirements: 1.1, 3.2_

- [x] 3.3 実装完了とコミット
  - 全てのテストがパスすることを確認
  - コード変更をレビューし、設計ドキュメントとの整合性を確認
  - Git コミットメッセージを作成（変更内容と要件の簡潔な説明）
  - _Requirements: All requirements_
