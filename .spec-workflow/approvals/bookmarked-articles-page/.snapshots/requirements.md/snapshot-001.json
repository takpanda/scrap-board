{
  "id": "snapshot_1758954069659_7qpirm887",
  "approvalId": "approval_1758954069643_7tpbht526",
  "approvalTitle": "requirements: bookmarked-articles-page",
  "version": 1,
  "timestamp": "2025-09-27T06:21:09.659Z",
  "trigger": "initial",
  "status": "pending",
  "content": "# Spec: bookmarked-articles-page\n\n## 概要\nユーザーがブックマークした記事のみを一覧表示する専用ページを追加します。既存のブックマーク機能を基に、フィルタ済みの一覧表示とリンク、サムネイル、短い要約を提供します。UIは日本語で表示されます。\n\n## ユーザーストーリー\n- ユーザーとして、自分がブックマークした記事だけを一覧で見たい。 => ブックマーク一覧ページが必要\n- ユーザーとして、記事のタイトル、サムネイル、短い要約、収集元（ドメイン）を一目で確認したい。 => 各記事にこれらを表示\n- ユーザーとして、記事をクリックすると記事詳細ページへ遷移したい。 => 既存の詳細ページに遷移\n\n## 受け入れ基準 (EARS)\n- 条件: ユーザーがログインしている（認証は既存システムに依存）\n  - 事象: ブックマークページにアクセスする\n  - 要求: 自分がブックマークした記事のみが表示される\n\n- 条件: ブックマークが存在しない場合\n  - 事象: ブックマークページにアクセスする\n  - 要求: 「ブックマークした記事はありません」という日本語のプレースホルダを表示する\n\n- 条件: 多数（100件以上）のブックマークがある場合\n  - 事象: ブックマークページにアクセスする\n  - 要求: ページネーションまたは遅延読み込みで扱える（初版はページネーション）\n\n## 非機能要件\n- ページの言語は日本語\n- レスポンスタイム: P95 < 300ms（DBがインメモリでない場合は現実的な目標）\n- セキュリティ: 他ユーザーのブックマークが表示されないこと\n\n## 既存コンポーネントとの関係\n- ブックマークDBテーブル（`bookmarks`）と `documents` テーブルを利用する\n- 既存のルーティング/テンプレート構成を再利用する（`app/main.py`, `app/api/routes/`）\n\n## 実装の境界条件・前提\n- 認証は既存のミドルウェア/セッションで提供されていること\n- `bookmarks` テーブルはユーザーIDとdocument IDを関連付けていること\n\n## ファイル/変更箇所（高レベル）\n- app/api/routes/bookmarks.py (新規または既存へルート追加)\n- app/templates/bookmarks_only.html (新規テンプレート)\n- app/services/bookmark_service.py (必要なら抽象化)\n- tests/test_bookmarked_page.py (表示のユニット/統合テスト)\n\n## 次のステップ\n1. この要件で承認をリクエストする\n2. 承認後、`design.md` を作成し技術詳細を固める\n",
  "fileStats": {
    "size": 2715,
    "lines": 46,
    "lastModified": "2025-09-27T06:21:04.932Z"
  },
  "comments": []
}