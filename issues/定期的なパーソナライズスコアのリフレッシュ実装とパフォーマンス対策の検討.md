### 現状
- docs/personalized-ranking.md によれば、パーソナライズスコアはブックマークの追加/削除や postprocess 完了、フィードバック等でジョブをスケジュールして更新している。
- ドキュメントには「バックグラウンドジョブで定期的にスコアをリフレッシュ（実装予定）」との記載があるが未実装の可能性がある。

### 問題提起
- 全記事（またはユーザーごと全候補）を定期的にフルリフレッシュすると、記事数・ユーザー数が増えると計算コストが線形〜それ以上に増大し、DB・CPU・メモリの負荷が悪化する想定。
- freshness（時間依存要素）は表示時点で再計算すべきで、バックグラウンドで頻繁にフルリフレッシュするのは非効率。

### 提案（検討タスク）
- インクリメンタル更新戦略の採用（新規/更新ドキュメント・影響のあるユーザーのみ再スコア）
- freshness は API レスポンス直前に再計算して事前計算から除外する設計変更
- 候補絞り込みに ANN（Faiss 等）を導入して上位 K のみ正確スコア算出
- DEFAULT_DOCUMENT_LIMIT を用いたバッチ化／ページング実装
- ワーカーの水平スケールと DB 負荷監視（監視指標を整備）
- 性能評価のためのベンチマーク計画（ドキュメント数の増加に対する処理時間・DB負荷）

### タスク（チェックボックス）
- [ ] 現行 worker のドキュメント読み込みロジックを確認してフルリフレッシュ箇所を特定
- [ ] 表示時に freshness を再計算する PR を作成
- [ ] インクリメンタル更新の PoC を作成（postprocess での schedule_profile_update を利用）
- [ ] 必要なら ANN の導入検討・コスト見積もり
- [ ] 性能監視メトリクスを追加（job latency, bulk_upsert 時間, computed_at の分布）

### ラベル
enhancement, performance

### 優先度
Medium